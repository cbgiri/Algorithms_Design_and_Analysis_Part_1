#include "stdafx.h"
#include"iostream"
#include"conio.h"
#include "string"
#include "fstream"
#include "stdio.h"

using namespace std;

int arr[10];
int comp=0;

int Partition(int arr[], int beg, int end)          //Function to Find Pivot Point
{
	
int p=beg, pivot=arr[beg], loc;

for(loc=beg+1;loc<=end;loc++)
{
if(pivot>arr[loc])
{
comp+=1;
arr[p]=arr[loc];
arr[loc]=arr[p+1];
arr[p+1]=pivot;
p=p+1;
}
}
comp+=1;
return p;
}


void QuickSort(int arr[], int beg, int end)
{
if(beg<end)
{
	
int p=Partition(arr,beg,end);                       //Calling Procedure to Find Pivot

QuickSort(arr,beg,p-1);                             //Calls Itself (Recursion)
QuickSort(arr,p+1,end);			              //Calls Itself (Recursion)
}
}


void main()
{

system("cls");

int i=0,n,beg,end;

FILE *fp ;

fp = fopen ( "QuickSort.txt", "r" ) ;

if ( fp == NULL )
{
puts ( "\nCAN NOT OPEN FILE..!!!" ) ;
cin.get();
exit(0) ;
}

while ( fscanf ( fp, "%d",&arr[i]) != EOF )
{
	printf ( "\n%d",arr[i]) ;
	i+=1;
}

fclose ( fp ) ;

int t=arr[0];
arr[0]=arr[9999];
arr[9999]=t;


beg=0;
end=9999;



QuickSort(arr,beg,end);                        	  //Calling of QuickSort Function

cout<<"\nAfter Sorting : \n";
for(i=0;i<10000;i++)
{
cout<<arr[i]<<endl;
}
cout<<comp;
getch();
}